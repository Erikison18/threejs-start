<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My second three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<div id="tip"></div>
		<script src="./js/three.js"></script>
		<script src="./js/controls/OrbitControls.js"></script>
		<script>
            var scene = new THREE.Scene();

			var axisHelper = new THREE.AxisHelper(1250);
			scene.add(axisHelper);

			var point = new THREE.PointLight(0xff00000);
			point.position.set(400, 200, 300);
			scene.add(point);

			var ambient = new THREE.AmbientLight(0xff0000);
			scene.add(ambient);


			var geometry = new THREE.BufferGeometry();
			var vertices = new Float32Array([
				0, 0, 0, //顶点1坐标
				50, 0, 0, //顶点2坐标
				0, 100, 0, //顶点3坐标
				0, 0, 10, //顶点4坐标
				0, 0, 100, //顶点5坐标
				50, 0, 10, //顶点6坐标
			]);
			var attribute = new THREE.BufferAttribute(vertices, 3);
			geometry.attributes.position = attribute;
			var material = new THREE.MeshBasicMaterial({
				//color: 0x0000ff,
				side: THREE.DoubleSide,
				vertexColors: THREE.VertexColors,
			});
			var mesh = new THREE.Mesh(geometry, material);
			scene.add(mesh);

			//点
			var colors = new Float32Array([
				1, 0, 0, //顶点1颜色
				0, 1, 0, //顶点2颜色
				0, 0, 1, //顶点3颜色
				1, 1, 0, //顶点4颜色
				0, 1, 1, //顶点5颜色
				1, 0, 1, //顶点6颜色
			]);
			geometry.attributes.color = new THREE.BufferAttribute(colors, 3);
			var material1 = new THREE.PointsMaterial({
				size: 10.0,
				//color: 0xff0000,
				vertexColors: THREE.VertexColors,
			});
			var points = new THREE.Points(geometry, material1);
			scene.add(points);

			//线
			var material2 = new THREE.LineBasicMaterial({
				//color: 0x00ff00,
				vertexColors: THREE.VertexColors,
			});
			var line = new THREE.Line(geometry, material2);
			line.position.x = 10;
			line.position.y = 10;
			line.position.z = 10;
			scene.add(line);

			// 不设置法向量
			var geometry1 = new THREE.BufferGeometry(); //声明一个空几何体对象
			var vertices1 = new Float32Array([
				0, 0, 0, //顶点1坐标
				50, 0, 0, //顶点2坐标
				0, 100, 0, //顶点3坐标
				0, 0, 0, //顶点4坐标
				0, 0, 100, //顶点5坐标
				50, 0, 0, //顶点6坐标
			]);
			var attribute1 = new THREE.BufferAttribute(vertices1, 3); //3个为一组
			geometry1.attributes.position = attribute1
			var material11 = new THREE.MeshBasicMaterial({
			//var material11 = new THREE.MeshLambertMaterial({
				color: 0x0000ff,
				side: THREE.DoubleSide,
			});
			var mesh1 = new THREE.Mesh(geometry1, material11);
			mesh1.position.x = 80;
			scene.add(mesh1);

			//加法向量
			var geometry2 = new THREE.BufferGeometry(); //声明一个空几何体对象
			var vertices2 = new Float32Array([
				0, 0, 0, //顶点1坐标
				50, 0, 0, //顶点2坐标
				0, 100, 0, //顶点3坐标
				0, 0, 0, //顶点4坐标
				0, 0, 100, //顶点5坐标
				50, 0, 0, //顶点6坐标
			]);
			var attribute2 = new THREE.BufferAttribute(vertices2, 3); //3个为一组
			geometry2.attributes.position = attribute2
			var normals = new Float32Array([
				0, 0, 1, //顶点1法向量
				0, 0, 1, //顶点2法向量
				0, 0, 1, //顶点3法向量
				0, 1, 0, //顶点4法向量
				0, 1, 0, //顶点5法向量
				0, 1, 0, //顶点6法向量
			]);
			geometry2.attributes.normal = new THREE.BufferAttribute(normals, 3);
			var mesh2 = new THREE.Mesh(geometry2, material11);
			mesh2.position.x = 140;
			scene.add(mesh2);


			var geometry3 = new THREE.BufferGeometry(); //声明一个空几何体对象
			//类型数组创建顶点位置position数据
			var vertices3 = new Float32Array([
				0, 0, 0, //顶点1坐标
				80, 0, 0, //顶点2坐标
				80, 80, 0, //顶点3坐标

				0, 0, 0, //顶点4坐标   和顶点1位置相同
				80, 80, 0, //顶点5坐标  和顶点3位置相同
				0, 80, 0, //顶点6坐标
			]);
			// 创建属性缓冲区对象
			var attribue3 = new THREE.BufferAttribute(vertices3, 3); //3个为一组
			// 设置几何体attributes属性的位置position属性
			geometry3.attributes.position = attribue3
			var normals3 = new Float32Array([
				0, 0, 1, //顶点1法向量
				0, 0, 1, //顶点2法向量
				0, 0, 1, //顶点3法向量

				0, 0, 1, //顶点4法向量
				0, 0, 1, //顶点5法向量
				0, 0, 1, //顶点6法向量
			]);
			// 设置几何体attributes属性的位置normal属性
			geometry3.attributes.normal = new THREE.BufferAttribute(normals3, 3);
			var mesh3 = new THREE.Mesh(geometry3, material11);
			mesh3.position.y = 100;
			scene.add(mesh3);


			var geometry4 = new THREE.BufferGeometry(); //声明一个空几何体对象
			//类型数组创建顶点位置position数据
			var vertices4 = new Float32Array([
				0, 0, 0, //顶点1坐标
				80, 0, 0, //顶点2坐标
				80, 80, 0, //顶点3坐标
				0, 80, 0, //顶点4坐标
			]);
			// 创建属性缓冲区对象
			var attribue4 = new THREE.BufferAttribute(vertices4, 3); //3个为一组
			// 设置几何体attributes属性的位置position属性
			geometry4.attributes.position = attribue4
			var normals4 = new Float32Array([
				0, 0, 1, //顶点1法向量
				0, 0, 1, //顶点2法向量
				0, 0, 1, //顶点3法向量
				0, 0, 1, //顶点4法向量
			]);
			// 设置几何体attributes属性的位置normal属性
			geometry4.attributes.normal = new THREE.BufferAttribute(normals4, 3); 
			var indexes = new Uint16Array([
				// 0对应第1个顶点位置数据、第1个顶点法向量数据
				// 1对应第2个顶点位置数据、第2个顶点法向量数据
				// 索引值3个为一组，表示一个三角形的3个顶点
				0, 1, 2,
				0, 2, 3,
			])
			// 索引数据赋值给几何体的index属性
			geometry4.index = new THREE.BufferAttribute(indexes, 1); //1个为一组
			var mesh4 = new THREE.Mesh(geometry4, material11);
			mesh4.position.x = 100;
			mesh4.position.y = 110;
			scene.add(mesh4);

			var geometry5 = new THREE.Geometry(); //声明一个几何体对象Geometry
			var p1 = new THREE.Vector3(-50, 0, 0); //顶点1坐标
			var p2 = new THREE.Vector3(0, 70, 0); //顶点2坐标
			var p3 = new THREE.Vector3(-80, 70, 0); //顶点3坐标
			//顶点坐标添加到geometry对象
			geometry5.vertices.push(p1, p2, p3);
			// Color对象表示顶点颜色数据
			var color1 = new THREE.Color(0x00ff00); //顶点1颜色——绿色
			var color2 = new THREE.Color(0xff0000); //顶点2颜色——红色
			var color3 = new THREE.Color(0x0000ff); //顶点3颜色——蓝色
			//顶点颜色数据添加到geometry对象
			geometry5.colors.push(color1, color2, color3);

			var pointMaterial = new THREE.PointsMaterial({
                vertexColors: THREE.VertexColors, //以顶点颜色为准
                size: 5.0
            });
            var points5 = new THREE.Points(geometry5, pointMaterial);
            scene.add(points5);

			var geometry6 = new THREE.Geometry(); //声明一个几何体对象Geometry
			var p16 = new THREE.Vector3(0, 0, 0); //顶点1坐标
			var p26 = new THREE.Vector3(0, 100, 0); //顶点2坐标
			var p36 = new THREE.Vector3(50, 0, 0); //顶点3坐标
			var p46 = new THREE.Vector3(0, 0, 100); //顶点4坐标
			//顶点坐标添加到geometry对象
			geometry6.vertices.push(p16, p26, p36, p46);

			// Face3构造函数创建一个三角面
			var face1 = new THREE.Face3(0, 1, 2);
			//三角面每个顶点的法向量
			var n1 = new THREE.Vector3(0, 0, -1); //三角面Face1顶点1的法向量
			var n2 = new THREE.Vector3(0, 0, -1); //三角面2Face2顶点2的法向量
			var n3 = new THREE.Vector3(0, 0, -1); //三角面3Face3顶点3的法向量
			// 设置三角面Face3三个顶点的法向量
			face1.vertexNormals.push(n1,n2,n3);	
			face1.vertexColors = [
				new THREE.Color(0xffff00),
				new THREE.Color(0xff00ff),
				new THREE.Color(0x00ffff),
			];	
			// 三角面2
			var face2 = new THREE.Face3(0, 2, 3);
			// 设置三角面法向量
			face2.normal=new THREE.Vector3(0, -1, 0);
			//三角面face1、face2添加到几何体中
			geometry6.faces.push(face1,face2);
			var material6 = new THREE.MeshBasicMaterial({
				color: 0xff00ff,
				side: THREE.DoubleSide,
				vertexColors: THREE.VertexColors, //以顶点颜色为准
			});
            var mesh6 = new THREE.Mesh(geometry6, material6);
			mesh6.position.x = -120;
            scene.add(mesh6);

			var geometry7 = new THREE.BoxGeometry(100, 100, 100); //创建一个立方体几何对象Geometry
			// 遍历几何体的face属性
			geometry7.faces.forEach(face => {
				// 设置三角面face三个顶点的颜色
				face.vertexColors = [
					new THREE.Color(0xffff00),
					new THREE.Color(0xff00ff),
					new THREE.Color(0x00ffff),
				]
			});
			geometry7.faces.pop();
			geometry7.faces.shift();
			geometry7.translate(150, 0, 0);
			geometry7.rotateX(Math.PI / 4);
			geometry7.center();
			var material7 = new THREE.MeshBasicMaterial({
				// color: 0x0000ff,
				side: THREE.DoubleSide,
				vertexColors: THREE.FaceColors,
				// wireframe:true,//线框模式渲染
			}); //材质对象Material
 			var mesh7 = new THREE.Mesh(geometry7, material7);
			mesh7.position.x = -120;
			mesh7.position.y = -120;
            scene.add(mesh7);

			var geometry8 = new THREE.SphereGeometry(100, 25, 25); //创建一个球体几何对象
			// 创建一个点材质对象
			var material8 = new THREE.PointsMaterial({
				color: 0x0000ff, //颜色
				size: 3, //点渲染尺寸
			});
			//点模型对象  参数：几何体  点材质
			var point8 = new THREE.Points(geometry8, material8);
			point8.position.x = -250;
			scene.add(point8); //网格模型添加到场景中
			// 直线基础材质对象
			var material8l = new THREE.LineBasicMaterial({
				color: 0x0000ff
			});
			var material8d = new THREE.LineDashedMaterial({
				color: 0xf000ff,
				dashSize: 10,//显示线段的大小。默认为3。
				gapSize: 5,//间隙的大小。默认为1
			});
			var line8 = new THREE.Line(geometry8, material8d); //线模型对象
			line8.computeLineDistances();
			line8.position.x = -250;
			line8.position.y = -250;
			scene.add(line8); //点模型添加到场景中
			var material8p = new THREE.MeshPhongMaterial({
				color: 0xff00f0,
				specular:0x444444,//高光部分的颜色
				shininess:20,//高光部分的亮度，默认30
				side: THREE.DoubleSide,
			});
			var mesh8 = new THREE.Mesh(geometry8, material8p);
			//mesh8.position.x = -250;
			//mesh8.position.y = 250;
			scene.add(mesh8); 

			var width = window.innerWidth;
			var height = window.innerHeight;
			var k = width / height;
			var s = 200;
			var camera = new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
			camera.position.set(200, 300, 200);
			camera.lookAt(scene.position);

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize(width, height);
			renderer.setClearColor(0xb9d3ff, 1);
			document.body.appendChild(renderer.domElement);

			renderer.render(scene, camera);

			var T0 = new Date();
			function render() {
				var T1 = new Date();
				var t = T1 - T0;
				T0 = T1;
				//requestAnimationFrame(render);
				renderer.render(scene, camera);
				//mesh.rotateY(0.001*t);
			}
			render();

			var controls = new THREE.OrbitControls(camera, renderer.domElement);
			controls.addEventListener('change', render);
		</script>
	</body>
</html>